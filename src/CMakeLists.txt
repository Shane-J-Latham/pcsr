
IF ( CGAL_FOUND )
    SET(
      pcsr_cgal_SRCS
      pcsr_cgal.cpp
      pcsr_pcl.cpp
      pcsr_cgal_py.cpp
    )
    
    ADD_LIBRARY(pcsr_cgal MODULE ${pcsr_cgal_SRCS})
    SET_TARGET_PROPERTIES(pcsr_cgal PROPERTIES PREFIX "" )
    SET_TARGET_PROPERTIES(pcsr_cgal PROPERTIES OUTPUT_NAME _pcsr_cgal )
    TARGET_LINK_LIBRARIES(
      pcsr_cgal
      ${CGAL_LIBRARIES}
      ${PCSR_PCL_LIBRARIES}
      ${BOOST_LIBRARIES}
      ${PCSR_BOOST_PYTHON_LIBRARIES}
      ${PYTHON_LIBRARIES}
      ${MPFR_LIBRARIES}
      ${GMP_LIBRARIES}
      ${TBB_LIBRARIES}
    )
    SET_TARGET_PROPERTIES(pcsr_cgal PROPERTIES INSTALL_NAME_DIR ${PCSR_PYTHON_SITE_PACKAGES_INSTALL_DIR} )
    INSTALL(TARGETS pcsr_cgal DESTINATION ${PCSR_PYTHON_SITE_PACKAGES_INSTALL_DIR})
ENDIF()

IF ( PCL_FOUND )
    SET(
      pcsr_pcl_SRCS
      pcsr_pcl.cpp
    )
    
    ADD_LIBRARY(pcsr_pcl MODULE ${pcsr_pcl_SRCS})
    SET_TARGET_PROPERTIES(pcsr_pcl PROPERTIES PREFIX "" )
    SET_TARGET_PROPERTIES(pcsr_pcl PROPERTIES OUTPUT_NAME _pcsr_pcl )
    TARGET_LINK_LIBRARIES(
      pcsr_pcl
      ${PCSR_PCL_LIBRARIES}
      ${BOOST_LIBRARIES}
      ${PCSR_BOOST_PYTHON_LIBRARIES}
      ${PYTHON_LIBRARIES}
    )
    SET_TARGET_PROPERTIES(pcsr_pcl PROPERTIES INSTALL_NAME_DIR ${PCSR_PYTHON_SITE_PACKAGES_INSTALL_DIR} )
    INSTALL(TARGETS pcsr_pcl DESTINATION ${PCSR_PYTHON_SITE_PACKAGES_INSTALL_DIR})
ENDIF()
